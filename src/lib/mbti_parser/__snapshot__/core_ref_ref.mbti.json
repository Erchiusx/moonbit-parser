{
  "package_name": "moonbitlang/core/ref",
  "imports": [
    {
      "name": "moonbitlang/core/quickcheck"
    }
  ],
  "sigs": [
    [
      {
        "$tag": "Func",
        "0": {
          "attr": [],
          "name": {
            "name": "new",
            "loc": "core/ref/ref.mbti:8:6-8:9"
          },
          "params": [
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "T"
                  },
                  "loc": "core/ref/ref.mbti:8:10-8:11"
                },
                "1": [],
                "loc": "core/ref/ref.mbti:8:10-8:11"
              }
            }
          ],
          "return_": [
            {
              "type": "TName",
              "0": {
                "type": "ConstrId",
                "id": {
                  "type": "Ident",
                  "name": "Ref"
                },
                "loc": "core/ref/ref.mbti:8:16-8:19"
              },
              "1": [
                {
                  "type": "TName",
                  "0": {
                    "type": "ConstrId",
                    "id": {
                      "type": "Ident",
                      "name": "T"
                    },
                    "loc": "core/ref/ref.mbti:8:20-8:21"
                  },
                  "1": [],
                  "loc": "core/ref/ref.mbti:8:20-8:21"
                }
              ],
              "loc": "core/ref/ref.mbti:8:16-8:22"
            },
            {
              "type": "NoErrorType"
            }
          ],
          "type_params": [
            {
              "name": {
                "name": "T",
                "loc": "core/ref/ref.mbti:8:3-8:4"
              },
              "constraints": []
            }
          ]
        }
      },
      "core/ref/ref.mbti:8:0-8:22"
    ],
    [
      {
        "$tag": "Func",
        "0": {
          "attr": [],
          "type_name": {
            "name": "Ref",
            "loc": "core/ref/ref.mbti:11:9-11:12"
          },
          "name": {
            "name": "map",
            "loc": "core/ref/ref.mbti:11:14-11:17"
          },
          "params": [
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Self"
                  },
                  "loc": "core/ref/ref.mbti:11:18-11:22"
                },
                "1": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:11:23-11:24"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:11:23-11:24"
                  }
                ],
                "loc": "core/ref/ref.mbti:11:18-11:25"
              }
            },
            {
              "$tag": "Positional",
              "0": {
                "type": "TArrow",
                "args": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:11:28-11:29"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:11:28-11:29"
                  }
                ],
                "res": {
                  "type": "TName",
                  "0": {
                    "type": "ConstrId",
                    "id": {
                      "type": "Ident",
                      "name": "R"
                    },
                    "loc": "core/ref/ref.mbti:11:34-11:35"
                  },
                  "1": [],
                  "loc": "core/ref/ref.mbti:11:34-11:35"
                },
                "err": {
                  "type": "MaybeError",
                  "0": {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "Error"
                      },
                      "loc": "<no location>:-1:0--1:0"
                    },
                    "1": [],
                    "loc": "<no location>:-1:0--1:0"
                  },
                  "is_old_syntax": false
                },
                "is_async": false,
                "loc": "core/ref/ref.mbti:11:27-11:42"
              }
            }
          ],
          "return_": [
            {
              "type": "TName",
              "0": {
                "type": "ConstrId",
                "id": {
                  "type": "Ident",
                  "name": "Self"
                },
                "loc": "core/ref/ref.mbti:11:47-11:51"
              },
              "1": [
                {
                  "type": "TName",
                  "0": {
                    "type": "ConstrId",
                    "id": {
                      "type": "Ident",
                      "name": "R"
                    },
                    "loc": "core/ref/ref.mbti:11:52-11:53"
                  },
                  "1": [],
                  "loc": "core/ref/ref.mbti:11:52-11:53"
                }
              ],
              "loc": "core/ref/ref.mbti:11:47-11:54"
            },
            {
              "type": "MaybeError",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Error"
                  },
                  "loc": "<no location>:-1:0--1:0"
                },
                "1": [],
                "loc": "<no location>:-1:0--1:0"
              },
              "is_old_syntax": false
            }
          ],
          "type_params": [
            {
              "name": {
                "name": "T",
                "loc": "core/ref/ref.mbti:11:3-11:4"
              },
              "constraints": []
            },
            {
              "name": {
                "name": "R",
                "loc": "core/ref/ref.mbti:11:6-11:7"
              },
              "constraints": []
            }
          ]
        }
      },
      "core/ref/ref.mbti:11:0-11:61"
    ],
    [
      {
        "$tag": "Func",
        "0": {
          "attr": [],
          "type_name": {
            "name": "Ref",
            "loc": "core/ref/ref.mbti:12:6-12:9"
          },
          "name": {
            "name": "new",
            "loc": "core/ref/ref.mbti:12:11-12:14"
          },
          "params": [
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "T"
                  },
                  "loc": "core/ref/ref.mbti:12:15-12:16"
                },
                "1": [],
                "loc": "core/ref/ref.mbti:12:15-12:16"
              }
            }
          ],
          "return_": [
            {
              "type": "TName",
              "0": {
                "type": "ConstrId",
                "id": {
                  "type": "Ident",
                  "name": "Self"
                },
                "loc": "core/ref/ref.mbti:12:21-12:25"
              },
              "1": [
                {
                  "type": "TName",
                  "0": {
                    "type": "ConstrId",
                    "id": {
                      "type": "Ident",
                      "name": "T"
                    },
                    "loc": "core/ref/ref.mbti:12:26-12:27"
                  },
                  "1": [],
                  "loc": "core/ref/ref.mbti:12:26-12:27"
                }
              ],
              "loc": "core/ref/ref.mbti:12:21-12:28"
            },
            {
              "type": "NoErrorType"
            }
          ],
          "type_params": [
            {
              "name": {
                "name": "T",
                "loc": "core/ref/ref.mbti:12:3-12:4"
              },
              "constraints": []
            }
          ]
        }
      },
      "core/ref/ref.mbti:12:0-12:28"
    ],
    [
      {
        "$tag": "Func",
        "0": {
          "attr": [],
          "type_name": {
            "name": "Ref",
            "loc": "core/ref/ref.mbti:13:9-13:12"
          },
          "name": {
            "name": "protect",
            "loc": "core/ref/ref.mbti:13:14-13:21"
          },
          "params": [
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Self"
                  },
                  "loc": "core/ref/ref.mbti:13:22-13:26"
                },
                "1": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:13:27-13:28"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:13:27-13:28"
                  }
                ],
                "loc": "core/ref/ref.mbti:13:22-13:29"
              }
            },
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "T"
                  },
                  "loc": "core/ref/ref.mbti:13:31-13:32"
                },
                "1": [],
                "loc": "core/ref/ref.mbti:13:31-13:32"
              }
            },
            {
              "$tag": "Positional",
              "0": {
                "type": "TArrow",
                "args": [],
                "res": {
                  "type": "TName",
                  "0": {
                    "type": "ConstrId",
                    "id": {
                      "type": "Ident",
                      "name": "R"
                    },
                    "loc": "core/ref/ref.mbti:13:40-13:41"
                  },
                  "1": [],
                  "loc": "core/ref/ref.mbti:13:40-13:41"
                },
                "err": {
                  "type": "MaybeError",
                  "0": {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "Error"
                      },
                      "loc": "<no location>:-1:0--1:0"
                    },
                    "1": [],
                    "loc": "<no location>:-1:0--1:0"
                  },
                  "is_old_syntax": false
                },
                "is_async": false,
                "loc": "core/ref/ref.mbti:13:34-13:48"
              }
            }
          ],
          "return_": [
            {
              "type": "TName",
              "0": {
                "type": "ConstrId",
                "id": {
                  "type": "Ident",
                  "name": "R"
                },
                "loc": "core/ref/ref.mbti:13:53-13:54"
              },
              "1": [],
              "loc": "core/ref/ref.mbti:13:53-13:54"
            },
            {
              "type": "MaybeError",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Error"
                  },
                  "loc": "<no location>:-1:0--1:0"
                },
                "1": [],
                "loc": "<no location>:-1:0--1:0"
              },
              "is_old_syntax": false
            }
          ],
          "type_params": [
            {
              "name": {
                "name": "T",
                "loc": "core/ref/ref.mbti:13:3-13:4"
              },
              "constraints": []
            },
            {
              "name": {
                "name": "R",
                "loc": "core/ref/ref.mbti:13:6-13:7"
              },
              "constraints": []
            }
          ]
        }
      },
      "core/ref/ref.mbti:13:0-13:61"
    ],
    [
      {
        "$tag": "Func",
        "0": {
          "attr": [],
          "type_name": {
            "name": "Ref",
            "loc": "core/ref/ref.mbti:14:6-14:9"
          },
          "name": {
            "name": "swap",
            "loc": "core/ref/ref.mbti:14:11-14:15"
          },
          "params": [
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Self"
                  },
                  "loc": "core/ref/ref.mbti:14:16-14:20"
                },
                "1": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:14:21-14:22"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:14:21-14:22"
                  }
                ],
                "loc": "core/ref/ref.mbti:14:16-14:23"
              }
            },
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Self"
                  },
                  "loc": "core/ref/ref.mbti:14:25-14:29"
                },
                "1": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:14:30-14:31"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:14:30-14:31"
                  }
                ],
                "loc": "core/ref/ref.mbti:14:25-14:32"
              }
            }
          ],
          "return_": [
            {
              "type": "TName",
              "0": {
                "type": "ConstrId",
                "id": {
                  "type": "Ident",
                  "name": "Unit"
                },
                "loc": "core/ref/ref.mbti:14:37-14:41"
              },
              "1": [],
              "loc": "core/ref/ref.mbti:14:37-14:41"
            },
            {
              "type": "NoErrorType"
            }
          ],
          "type_params": [
            {
              "name": {
                "name": "T",
                "loc": "core/ref/ref.mbti:14:3-14:4"
              },
              "constraints": []
            }
          ]
        }
      },
      "core/ref/ref.mbti:14:0-14:41"
    ],
    [
      {
        "$tag": "Alias",
        "0": {
          "$tag": "FnAlias",
          "name": {
            "name": "swap",
            "loc": "core/ref/ref.mbti:15:13-15:17"
          },
          "type_name": {
            "name": {
              "type": "Ident",
              "name": "Ref"
            },
            "loc": "core/ref/ref.mbti:15:8-15:11"
          },
          "loc": "core/ref/ref.mbti:15:0-15:17"
        }
      },
      "core/ref/ref.mbti:15:0-15:17"
    ],
    [
      {
        "$tag": "Func",
        "0": {
          "attr": [],
          "type_name": {
            "name": "Ref",
            "loc": "core/ref/ref.mbti:16:6-16:9"
          },
          "name": {
            "name": "update",
            "loc": "core/ref/ref.mbti:16:11-16:17"
          },
          "params": [
            {
              "$tag": "Positional",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Self"
                  },
                  "loc": "core/ref/ref.mbti:16:18-16:22"
                },
                "1": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:16:23-16:24"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:16:23-16:24"
                  }
                ],
                "loc": "core/ref/ref.mbti:16:18-16:25"
              }
            },
            {
              "$tag": "Positional",
              "0": {
                "type": "TArrow",
                "args": [
                  {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "T"
                      },
                      "loc": "core/ref/ref.mbti:16:28-16:29"
                    },
                    "1": [],
                    "loc": "core/ref/ref.mbti:16:28-16:29"
                  }
                ],
                "res": {
                  "type": "TName",
                  "0": {
                    "type": "ConstrId",
                    "id": {
                      "type": "Ident",
                      "name": "T"
                    },
                    "loc": "core/ref/ref.mbti:16:34-16:35"
                  },
                  "1": [],
                  "loc": "core/ref/ref.mbti:16:34-16:35"
                },
                "err": {
                  "type": "MaybeError",
                  "0": {
                    "type": "TName",
                    "0": {
                      "type": "ConstrId",
                      "id": {
                        "type": "Ident",
                        "name": "Error"
                      },
                      "loc": "<no location>:-1:0--1:0"
                    },
                    "1": [],
                    "loc": "<no location>:-1:0--1:0"
                  },
                  "is_old_syntax": false
                },
                "is_async": false,
                "loc": "core/ref/ref.mbti:16:27-16:42"
              }
            }
          ],
          "return_": [
            {
              "type": "TName",
              "0": {
                "type": "ConstrId",
                "id": {
                  "type": "Ident",
                  "name": "Unit"
                },
                "loc": "core/ref/ref.mbti:16:47-16:51"
              },
              "1": [],
              "loc": "core/ref/ref.mbti:16:47-16:51"
            },
            {
              "type": "MaybeError",
              "0": {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "Error"
                  },
                  "loc": "<no location>:-1:0--1:0"
                },
                "1": [],
                "loc": "<no location>:-1:0--1:0"
              },
              "is_old_syntax": false
            }
          ],
          "type_params": [
            {
              "name": {
                "name": "T",
                "loc": "core/ref/ref.mbti:16:3-16:4"
              },
              "constraints": []
            }
          ]
        }
      },
      "core/ref/ref.mbti:16:0-16:58"
    ],
    [
      {
        "$tag": "Impl",
        "0": {
          "$tag": "Trait",
          "type_params": [
            {
              "name": {
                "name": "X",
                "loc": "core/ref/ref.mbti:17:5-17:6"
              },
              "constraints": [
                {
                  "name": {
                    "type": "Qualified",
                    "pkg": "quickcheck",
                    "name": "Arbitrary"
                  },
                  "loc": "core/ref/ref.mbti:17:9-17:30"
                }
              ]
            }
          ],
          "type_": {
            "type": "TName",
            "0": {
              "type": "ConstrId",
              "id": {
                "type": "Ident",
                "name": "Ref"
              },
              "loc": "core/ref/ref.mbti:17:58-17:61"
            },
            "1": [
              {
                "type": "TName",
                "0": {
                  "type": "ConstrId",
                  "id": {
                    "type": "Ident",
                    "name": "X"
                  },
                  "loc": "core/ref/ref.mbti:17:62-17:63"
                },
                "1": [],
                "loc": "core/ref/ref.mbti:17:62-17:63"
              }
            ],
            "loc": "core/ref/ref.mbti:17:58-17:64"
          },
          "trait_name": {
            "name": {
              "type": "Qualified",
              "pkg": "quickcheck",
              "name": "Arbitrary"
            },
            "loc": "core/ref/ref.mbti:17:32-17:53"
          }
        }
      },
      "core/ref/ref.mbti:17:0-17:64"
    ]
  ]
}
