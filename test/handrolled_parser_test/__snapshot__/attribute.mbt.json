{
  "type": "Program",
  "body": [
    {
      "type": "Impl::TopFuncDef",
      "fun_decl": {
        "type": "FunDecl",
        "type_name": null,
        "name": {
          "type": "Binder",
          "name": "f1",
          "loc": "7:8-7:10"
        },
        "has_error": null,
        "is_async": false,
        "decl_params": [
          {
            "type": "Parameter::Positional",
            "binder": {
              "type": "Binder",
              "name": "x",
              "loc": "7:11-7:12"
            },
            "ty": {
              "type": "Type::Name",
              "constr_id": {
                "type": "ConstrId",
                "id": {
                  "type": "LongIdent::Ident",
                  "0": "Int"
                },
                "loc": "7:15-7:18"
              },
              "tys": [],
              "loc": "7:15-7:18"
            }
          }
        ],
        "params_loc": "7:10-7:19",
        "quantifiers": [],
        "return_type": {
          "type": "Type::Name",
          "constr_id": {
            "type": "ConstrId",
            "id": {
              "type": "LongIdent::Ident",
              "0": "Int"
            },
            "loc": "7:23-7:26"
          },
          "tys": [],
          "loc": "7:23-7:26"
        },
        "error_type": {
          "type": "ErrorType::NoErrorType"
        },
        "vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "7:1-7:4"
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "5:1-5:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "6:1-6:27"
          }
        ],
        "doc": " docs for f1\n some docs\n @alert category3 \"reason\""
      },
      "decl_body": {
        "type": "DeclBody::DeclBody",
        "local_types": [],
        "expr": {
          "type": "Expr::Infix",
          "op": {
            "type": "Var",
            "name": {
              "type": "LongIdent::Ident",
              "0": "+"
            },
            "loc": "8:5-8:6"
          },
          "lhs": {
            "type": "Expr::Constant",
            "c": {
              "type": "Constant::Int",
              "0": "5"
            },
            "loc": "8:3-8:4"
          },
          "rhs": {
            "type": "Expr::Ident",
            "id": {
              "type": "Var",
              "name": {
                "type": "LongIdent::Ident",
                "0": "x"
              },
              "loc": "8:7-8:8"
            },
            "loc": "8:7-8:8"
          },
          "loc": "8:3-8:8"
        }
      },
      "loc": "5:1-9:2"
    },
    {
      "type": "Impl::TopFuncDef",
      "fun_decl": {
        "type": "FunDecl",
        "type_name": null,
        "name": {
          "type": "Binder",
          "name": "f3",
          "loc": "14:8-14:10"
        },
        "has_error": null,
        "is_async": false,
        "decl_params": [
          {
            "type": "Parameter::Positional",
            "binder": {
              "type": "Binder",
              "name": "x",
              "loc": "14:11-14:12"
            },
            "ty": {
              "type": "Type::Name",
              "constr_id": {
                "type": "ConstrId",
                "id": {
                  "type": "LongIdent::Ident",
                  "0": "Int"
                },
                "loc": "14:15-14:18"
              },
              "tys": [],
              "loc": "14:15-14:18"
            }
          }
        ],
        "params_loc": "14:10-14:19",
        "quantifiers": [],
        "return_type": {
          "type": "Type::Name",
          "constr_id": {
            "type": "ConstrId",
            "id": {
              "type": "LongIdent::Ident",
              "0": "Int"
            },
            "loc": "14:23-14:26"
          },
          "tys": [],
          "loc": "14:23-14:26"
        },
        "error_type": {
          "type": "ErrorType::NoErrorType"
        },
        "vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "14:1-14:4"
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(deprecated1,\"reason\")",
            "loc": "11:1-11:29"
          },
          {
            "type": "Attribute",
            "raw": "#alert(unsafe1,\"reason\")",
            "loc": "12:1-12:25"
          },
          {
            "type": "Attribute",
            "raw": "#alert(unsafe2,\"reason\")",
            "loc": "13:1-13:25"
          }
        ],
        "doc": ""
      },
      "decl_body": {
        "type": "DeclBody::DeclBody",
        "local_types": [],
        "expr": {
          "type": "Expr::Infix",
          "op": {
            "type": "Var",
            "name": {
              "type": "LongIdent::Ident",
              "0": "+"
            },
            "loc": "15:5-15:6"
          },
          "lhs": {
            "type": "Expr::Constant",
            "c": {
              "type": "Constant::Int",
              "0": "5"
            },
            "loc": "15:3-15:4"
          },
          "rhs": {
            "type": "Expr::Ident",
            "id": {
              "type": "Var",
              "name": {
                "type": "LongIdent::Ident",
                "0": "x"
              },
              "loc": "15:7-15:8"
            },
            "loc": "15:7-15:8"
          },
          "loc": "15:3-15:8"
        }
      },
      "loc": "11:1-16:2"
    },
    {
      "type": "Impl::TopFuncDef",
      "fun_decl": {
        "type": "FunDecl",
        "type_name": null,
        "name": {
          "type": "Binder",
          "name": "f4",
          "loc": "20:20-20:22"
        },
        "has_error": null,
        "is_async": false,
        "decl_params": [
          {
            "type": "Parameter::Positional",
            "binder": {
              "type": "Binder",
              "name": "x",
              "loc": "20:23-20:24"
            },
            "ty": {
              "type": "Type::Name",
              "constr_id": {
                "type": "ConstrId",
                "id": {
                  "type": "LongIdent::Ident",
                  "0": "Int"
                },
                "loc": "20:27-20:30"
              },
              "tys": [],
              "loc": "20:27-20:30"
            }
          }
        ],
        "params_loc": "20:22-20:31",
        "quantifiers": [],
        "return_type": {
          "type": "Type::Name",
          "constr_id": {
            "type": "ConstrId",
            "id": {
              "type": "LongIdent::Ident",
              "0": "Int"
            },
            "loc": "20:35-20:38"
          },
          "tys": [],
          "loc": "20:35-20:38"
        },
        "error_type": {
          "type": "ErrorType::NoErrorType"
        },
        "vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "20:1-20:4"
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "18:1-18:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "19:1-19:27"
          }
        ],
        "doc": ""
      },
      "decl_body": {
        "type": "DeclBody::DeclStubs",
        "0": {
          "type": "FuncStubs::Embedded",
          "language": "js",
          "code": {
            "type": "EmbeddedCode::CodeString",
            "0": "js"
          }
        }
      },
      "loc": "18:1-20:45"
    },
    {
      "type": "Impl::TopFuncDef",
      "fun_decl": {
        "type": "FunDecl",
        "type_name": null,
        "name": {
          "type": "Binder",
          "name": "f5",
          "loc": "27:8-27:10"
        },
        "has_error": null,
        "is_async": false,
        "decl_params": [
          {
            "type": "Parameter::Positional",
            "binder": {
              "type": "Binder",
              "name": "x",
              "loc": "27:11-27:12"
            },
            "ty": {
              "type": "Type::Name",
              "constr_id": {
                "type": "ConstrId",
                "id": {
                  "type": "LongIdent::Ident",
                  "0": "Int"
                },
                "loc": "27:15-27:18"
              },
              "tys": [],
              "loc": "27:15-27:18"
            }
          }
        ],
        "params_loc": "27:10-27:19",
        "quantifiers": [],
        "return_type": {
          "type": "Type::Name",
          "constr_id": {
            "type": "ConstrId",
            "id": {
              "type": "LongIdent::Ident",
              "0": "Int"
            },
            "loc": "27:23-27:26"
          },
          "tys": [],
          "loc": "27:23-27:26"
        },
        "error_type": {
          "type": "ErrorType::NoErrorType"
        },
        "vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "27:1-27:4"
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "25:1-25:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "26:1-26:27"
          }
        ],
        "doc": " docs for f5\n some docs\n @alert category3 \"reason\""
      },
      "decl_body": {
        "type": "DeclBody::DeclStubs",
        "0": {
          "type": "FuncStubs::Embedded",
          "language": null,
          "code": {
            "type": "EmbeddedCode::CodeString",
            "0": "%primitive"
          }
        }
      },
      "loc": "25:1-27:41"
    },
    {
      "type": "Impl::TopTest",
      "expr": {
        "type": "Expr::Hole",
        "loc": "31:15-31:18",
        "kind": {
          "type": "Hole::Todo"
        }
      },
      "name": {
        "v": "test",
        "loc": "31:6-31:12"
      },
      "params": null,
      "local_types": [],
      "loc": "29:1-31:20",
      "attrs": [
        {
          "type": "Attribute",
          "raw": "#alert(category1,\"reason\")",
          "loc": "29:1-29:27"
        },
        {
          "type": "Attribute",
          "raw": "#alert(category2,\"reason\")",
          "loc": "30:1-30:27"
        }
      ],
      "doc": ""
    },
    {
      "type": "Impl::TopTypeDef",
      "0": {
        "type": "TypeDecl",
        "tycon": "MyEnum",
        "tycon_loc": "35:10-35:16",
        "params": [],
        "components": {
          "type": "TypeDesc::Variant",
          "0": []
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "33:1-33:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "34:1-34:27"
          }
        ],
        "doc": "",
        "type_vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "35:1-35:4"
        },
        "deriving": [],
        "loc": "33:1-35:19"
      }
    },
    {
      "type": "Impl::TopTypeDef",
      "0": {
        "type": "TypeDecl",
        "tycon": "MyStruct",
        "tycon_loc": "40:12-40:20",
        "params": [],
        "components": {
          "type": "TypeDesc::Record",
          "0": [
            {
              "type": "FieldDecl",
              "name": {
                "type": "FieldName",
                "label": "x",
                "loc": "40:23-40:24"
              },
              "ty": {
                "type": "Type::Name",
                "constr_id": {
                  "type": "ConstrId",
                  "id": {
                    "type": "LongIdent::Ident",
                    "0": "Int"
                  },
                  "loc": "40:27-40:30"
                },
                "tys": [],
                "loc": "40:27-40:30"
              },
              "mut": false,
              "vis": {
                "type": "Visibility::Default"
              },
              "loc": "40:23-40:30",
              "attrs": [],
              "doc": ""
            }
          ]
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "38:1-38:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "39:1-39:27"
          }
        ],
        "doc": "",
        "type_vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "40:1-40:4"
        },
        "deriving": [],
        "loc": "38:1-40:32"
      }
    },
    {
      "type": "Impl::TopTypeDef",
      "0": {
        "type": "TypeDecl",
        "tycon": "MyType",
        "tycon_loc": "44:10-44:16",
        "params": [],
        "components": {
          "type": "TypeDesc::Newtype",
          "0": {
            "type": "Type::Name",
            "constr_id": {
              "type": "ConstrId",
              "id": {
                "type": "LongIdent::Ident",
                "0": "Int"
              },
              "loc": "44:17-44:20"
            },
            "tys": [],
            "loc": "44:17-44:20"
          }
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "42:1-42:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "43:1-43:27"
          }
        ],
        "doc": "",
        "type_vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "44:1-44:4"
        },
        "deriving": [],
        "loc": "42:1-44:20"
      }
    },
    {
      "type": "Impl::TopExpr",
      "expr": {
        "type": "Expr::Hole",
        "loc": "48:27-48:32",
        "kind": {
          "type": "Hole::Synthesized"
        }
      },
      "is_main": false,
      "local_types": [],
      "loc": "48:27-48:32"
    },
    {
      "type": "Impl::TopTypeDef",
      "0": {
        "type": "TypeDecl",
        "tycon": "MyErr",
        "tycon_loc": "52:14-52:19",
        "params": [],
        "components": {
          "type": "TypeDesc::Error",
          "0": {
            "type": "ExceptionDecl::SinglePayload",
            "0": {
              "type": "Type::Name",
              "constr_id": {
                "type": "ConstrId",
                "id": {
                  "type": "LongIdent::Ident",
                  "0": "Int"
                },
                "loc": "52:20-52:23"
              },
              "tys": [],
              "loc": "52:20-52:23"
            }
          }
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "50:1-50:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "51:1-51:27"
          }
        ],
        "doc": "",
        "type_vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "52:1-52:4"
        },
        "deriving": [],
        "loc": "50:1-52:23"
      }
    },
    {
      "type": "Impl::TopTypeDef",
      "0": {
        "type": "TypeDecl",
        "tycon": "MyErr2",
        "tycon_loc": "56:14-56:20",
        "params": [],
        "components": {
          "type": "TypeDesc::Error",
          "0": {
            "type": "ExceptionDecl::EnumPayload",
            "0": [
              {
                "type": "ConstrDecl",
                "name": {
                  "type": "ConstrName",
                  "name": "ErrCase1",
                  "loc": "57:3-57:11"
                },
                "args": null,
                "tag": null,
                "attrs": [],
                "loc": "57:3-57:11",
                "doc": ""
              },
              {
                "type": "ConstrDecl",
                "name": {
                  "type": "ConstrName",
                  "name": "ErrCase2",
                  "loc": "58:3-58:11"
                },
                "args": null,
                "tag": null,
                "attrs": [],
                "loc": "58:3-58:11",
                "doc": ""
              }
            ]
          }
        },
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "54:1-54:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "55:1-55:27"
          }
        ],
        "doc": "",
        "type_vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "56:1-56:4"
        },
        "deriving": [],
        "loc": "54:1-59:2"
      }
    },
    {
      "type": "Impl::TopTrait",
      "0": {
        "type": "TraitDecl",
        "name": {
          "type": "Binder",
          "name": "MyTrait",
          "loc": "63:12-63:19"
        },
        "supers": [],
        "methods": [
          {
            "type": "TraitMethodDecl",
            "name": {
              "type": "Binder",
              "name": "f1",
              "loc": "64:4-64:6"
            },
            "has_error": null,
            "is_async": false,
            "quantifiers": [],
            "params": [
              {
                "type": "Parameter::DiscardPositional",
                "ty": {
                  "type": "Type::Name",
                  "constr_id": {
                    "type": "ConstrId",
                    "id": {
                      "type": "LongIdent::Ident",
                      "0": "Int"
                    },
                    "loc": "64:7-64:10"
                  },
                  "tys": [],
                  "loc": "64:7-64:10"
                },
                "loc": "64:7-64:10"
              }
            ],
            "return_type": {
              "type": "Type::Name",
              "constr_id": {
                "type": "ConstrId",
                "id": {
                  "type": "LongIdent::Ident",
                  "0": "Int"
                },
                "loc": "64:15-64:18"
              },
              "tys": [],
              "loc": "64:15-64:18"
            },
            "error_type": {
              "type": "ErrorType::NoErrorType"
            },
            "has_default": null,
            "attrs": [],
            "loc": "64:4-64:18"
          }
        ],
        "vis": {
          "type": "Visibility::Pub",
          "attr": null,
          "loc": "63:2-63:5"
        },
        "loc": "63:6-65:3",
        "attrs": [
          {
            "type": "Attribute",
            "raw": "#alert(category1,\"reason\")",
            "loc": "61:1-61:27"
          },
          {
            "type": "Attribute",
            "raw": "#alert(category2,\"reason\")",
            "loc": "62:1-62:27"
          }
        ],
        "doc": ""
      }
    },
    {
      "type": "Impl::TopImpl",
      "self_ty": {
        "type": "Type::Name",
        "constr_id": {
          "type": "ConstrId",
          "id": {
            "type": "LongIdent::Ident",
            "0": "MyStruct"
          },
          "loc": "69:23-69:31"
        },
        "tys": [],
        "loc": "69:23-69:31"
      },
      "trait": {
        "type": "TypeName",
        "name": {
          "type": "LongIdent::Ident",
          "0": "MyTrait"
        },
        "is_object": false,
        "loc": "69:11-69:18"
      },
      "method_name": {
        "type": "Binder",
        "name": "f1",
        "loc": "69:37-69:39"
      },
      "has_error": null,
      "quantifiers": [],
      "params": [
        {
          "type": "Parameter::Positional",
          "binder": {
            "type": "Binder",
            "name": "x",
            "loc": "69:40-69:41"
          },
          "ty": null
        }
      ],
      "ret_ty": null,
      "err_ty": {
        "type": "ErrorType::NoErrorType"
      },
      "body": {
        "type": "DeclBody::DeclBody",
        "local_types": [],
        "expr": {
          "type": "Expr::Hole",
          "loc": "70:4-70:7",
          "kind": {
            "type": "Hole::Todo"
          }
        }
      },
      "vis": {
        "type": "Visibility::Pub",
        "attr": null,
        "loc": "69:2-69:5"
      },
      "loc": "67:1-71:3",
      "attrs": [
        {
          "type": "Attribute",
          "raw": "#coverage.skip(\"string\")",
          "loc": "67:1-67:25"
        },
        {
          "type": "Attribute",
          "raw": "#custom1.name(custom1.name, key=custom1.name2, \"reason\")",
          "loc": "68:1-68:57"
        }
      ],
      "doc": ""
    }
  ],
  "diagnostics": [
    {
      "type": "Error",
      "loc": "48:27-48:28",
      "msg": "Unexpected token `=`, you may expect `as`."
    }
  ]
}